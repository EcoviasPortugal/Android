package com.example.ecoviasdeportugal;

import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.app.Activity;
import android.content.Context;
import android.view.Menu;
import android.widget.TextView;

public class MainActivityJAVA extends Activity implements LocationListener {
	
	private LocationManager locationManager; //acede aos serviços de localização do android\
	private TextView latitude; //variável para colocar a latitude
	private TextView longitude; //variável para colocar a longitude

    @Override
    protected void onCreate(Bundle savedInstanceState) { // primeiro método que é SEMPRE chamado. Aproveita-se para inicializar variáveis. Neste caso temos 3: locationamanager, latitude e longitude
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main_xml); //faz o inflate do layout sobre a avtivity
        locationManager = (LocationManager) getSystemService (Context.LOCATION_SERVICE); // se tiver, dá a ultima coordenada conhecida de um fornencer do serviço de GPS
        latitude = (TextView) findViewById (R.id.latitudevalor); //permite aceder Às propriedades do objecto textview latitudevalor e alterálas para mostrar outro valor
        longitude = (TextView) findViewById (R.id.longitudevalor); //permite aceder Às propriedades do objecto textview latitudevalor e alterálas para mostrar outro valor
        
        
        
        
    }


    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.main_activity_jav, menu);
        return true;
    }


	@Override
	public void onLocationChanged(Location localizacao) {
		// TODO Auto-generated method stub
		
		if (localizacao == null) {
			latitude.setText (getString (R.string.sem_valor)); //coloca a textview da varia´vel latitude igual à string da variável sem_valor
			longitude.setText (getString (R.string.sem_valor));
						 
		}
		else
			
		{
			latitude.setText (String.valueOf(localizacao.getLatitude())); // A classe String tem o mátodo valueOf que converte o par|ametro latitude de location em string, dado que a variável latitude só recebe strings pois é do tipo string
			longitude.setText((String.valueOf(localizacao.getLongitude())));
			
			
			
		}
		
	}


	@Override
	public void onProviderDisabled(String arg0) {
		// TODO Auto-generated method stub
		
	}


	@Override
	public void onProviderEnabled(String arg0) {
		// TODO Auto-generated method stub
		
	}


	@Override
	public void onStatusChanged(String arg0, int arg1, Bundle arg2) {
		// TODO Auto-generated method stub
		
	}
    
}
